{"version":3,"file":"static/js/452.4fc648fd.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.stayled.js","components/MoviesList/MoviesList.js","components/Search/Search.stayled.js","components/Search/Search.js","page/Movies.js","service/api.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Container = styled.ul`\n  font: 18px \"Trebuchet MS\", \"Lucida Sans\";\n  width: 300px;\n  text-shadow: 0 1px 0 rgba(255,255,255,.5);\n`;\n\nexport const CardWrapper = styled.li`\n  a {\n    position: relative;\n    display: block;\n    padding: 0 ;\n    border-radius: .3em;\n    transition: .3s ease-out;\n    };\n    a:hover {\n      background: #E9E4E0;\n    };\n`;\n\nexport const MovieName = styled.p`\n  margin: 0;\n  pading: 4px;\n`;","import { Link, useLocation } from \"react-router-dom\";\nimport { Container, CardWrapper, MovieName } from \"./MoviesList.stayled\";\nimport PropTypes from 'prop-types';\n\n\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <Container>\n      {movies.map((movie) => (\n        <CardWrapper key={movie.id}>\n          <Link to={`/movies/${movie.id} `} state={{ from: location }}>\n            <MovieName>{movie.title}</MovieName>\n          </Link>\n        </CardWrapper>\n      ))}\n    </Container>\n  );\n};\n\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired\n}","import styled from \"styled-components\";\nimport { Field as FormikField, ErrorMessage as FormikError} from 'formik';\n\nexport const Field = styled(FormikField)`\n    position: relative;\n    outline: none;\n    border: 1px solid #bbb4b4;\n    width: 270px;\n    padding: 1.5px;\n    box-shadow: rgba(0, 0, 0, 0.06) 1px 2px 15px 1px;\n    line-height: 25px;\n    \n    placeholder {\n        font: inherit;\n        font-size: 18px;    \n    }\n`;\nexport const ErrorMessage = styled(FormikError)`\n    position: absolute;\n    display: block;\n    margin-right: 15px;\n    width: 170px;\n    text-align: end;\n    color: tomato;\n`\n\nexport const Btn = styled.button`\ndispley: block;\n`","import PropTypes from \"prop-types\";\nimport { Formik, Form } from \"formik\";\nimport { Field, ErrorMessage, Btn } from \"./Search.stayled\";\nimport * as Yup from 'yup';\n\nconst ContactSchema = Yup.object().shape({\n  search : Yup.string().min(3, 'Too Short!').max(20, 'Too Long!'),\n});\n\nexport const Search = ({onSubmit}) => {\n  return (\n    <Formik\n        initialValues={{\n          search: '',\n        }}  \n        validationSchema = { ContactSchema }\n        onSubmit = {(values, actions) => {\n          if (!values.search.toLowerCase().trim()) {\n            return alert('Заповніть поле');\n          }\n          onSubmit(values.search.toLowerCase().trim());\n          actions.resetForm();\n        } }>\n        <Form>\n          <Field\n            name=\"search\"\n            type=\"text\"\n            placeholder=\"Search movie\"\n          />\n          <ErrorMessage name=\"search\" component='span'/>\n          <Btn type=\"submit\">\n            <span>Search</span>\n          </Btn>\n        </Form>\n      </Formik>\n  )\n}\n\nPropTypes.Search = {\n  onSubmit: PropTypes.func.isRequired, \n};\n","import { Search } from \"components/Search/Search\";\nimport { useSearchParams } from \"react-router-dom\" ;\nimport { useState, useEffect } from \"react\";\nimport { fetchMoviesWithQuery } from \"service/api\";\nimport { MoviesList } from \"components/MoviesList/MoviesList\";\n\nconst Movies = () => {\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const movieName = searchParams.get(\"query\") ?? \"\";\n    \n    useEffect(() => { \n        if(!movieName){\n            return;\n        }         \n        async function getFetch (movieName) {\n            try {\n                const data = await fetchMoviesWithQuery(movieName);\n                setMovies( data.results );  \n                console.log( data.results)           \n            } catch (error) {\n                console.log(error)\n            } \n        };\n        getFetch(movieName);\n      }, [ movieName ] );\n\n    const handleSubmit = (query) => {\n        const nextParams = query !== \"\" ? { query } : {};\n        setSearchParams(nextParams);\n    }\n\n    return (\n        <div>\n            <Search onSubmit={handleSubmit} />\n            {movies.length > 0 && <MoviesList movies={movies}/>}\n        </div>\n    )\n}\n\nexport default Movies;","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\nconst KEY_API = \"70dafc4dedeb92246e41153ac2fb24f3\";\n\nexport const fetchMoviesWithQuery = async ( searchQuery, page = 1 ) => {\n  \n  const response = await axios.get(`search/movie?api_key=${KEY_API}&language=en-US&query=${searchQuery}&page=${page}&include_adult=false`);\n  if(!response.data.total_results) {\n    return Promise.reject( new Error( `По запиту \"${searchQuery}\" фільмів не знайдено` ));\n  };\n  return response.data;\n};\n\nexport const fetchTrendingMovies = async () => {\n    const response = await axios.get(`trending/movie/week?api_key=${KEY_API}`);\n    if(!response.data.total_results) {\n       return Promise.reject( new Error( `Помилка пошуку` ));\n    };\n    return response.data;\n  };\n  \nexport const fetchMoviesDetails = async ( id ) => {\n\n  const response = await axios.get(`movie/${id}?api_key=${KEY_API}&language=en-US`);\n  if(!response) {\n    return Promise.reject( new Error( `По запиту \"${id}\" фільмa не знайдено` ));\n  };\n  console.log(response)\n  return response;\n};\n\nexport const fetchMoviesCredits = async ( id ) => {\n\n  const response = await axios.get(`movie/${id}/credits?api_key=${KEY_API}&language=en-US`);\n  if(!response) {\n    return Promise.reject( new Error( `По запиту \"${id}\" фільмa не знайдено` ));\n  };\n  \n  return response.data;\n};\n\nexport const fetchMoviesReviews = async ( id ) => {\n\n  const response = await axios.get(`movie/${id}/reviews?api_key=${KEY_API}&language=en-US&page=1`);\n  if(!response.data.total_pages) {\n    return Promise.reject( new Error( `По запиту \"${id}\" фільмa не знайдено` ));\n  };\n  return response.data;\n};"],"names":["Container","styled","CardWrapper","MovieName","MoviesList","movies","location","useLocation","map","movie","to","id","state","from","title","Field","FormikField","ErrorMessage","FormikError","Btn","ContactSchema","Yup","shape","search","min","max","Search","onSubmit","initialValues","validationSchema","values","actions","toLowerCase","trim","alert","resetForm","name","type","placeholder","component","PropTypes","useState","setMovies","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","fetchMoviesWithQuery","data","results","console","log","getFetch","query","length","axios","KEY_API","searchQuery","page","response","total_results","Promise","reject","Error","fetchTrendingMovies","fetchMoviesDetails","fetchMoviesCredits","fetchMoviesReviews","total_pages"],"sourceRoot":""}