"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[452],{8147:function(n,e,r){r.d(e,{O:function(){return h}});var t,a,c,o=r(1087),u=r(7689),i=r(168),s=r(6444),p=s.ZP.ul(t||(t=(0,i.Z)(['\n  font: 18px "Trebuchet MS", "Lucida Sans";\n  width: 300px;\n  text-shadow: 0 1px 0 rgba(255,255,255,.5);\n']))),l=s.ZP.li(a||(a=(0,i.Z)(["\n  a {\n    position: relative;\n    display: block;\n    padding: 0 ;\n    border-radius: .3em;\n    transition: .3s ease-out;\n    };\n    a:hover {\n      background: #E9E4E0;\n    };\n"]))),f=s.ZP.p(c||(c=(0,i.Z)(["\n  margin: 0;\n  pading: 4px;\n"]))),d=r(184),h=function(n){var e=n.movies,r=(0,u.TH)();return(0,d.jsx)(p,{children:e.map((function(n){return(0,d.jsx)(l,{children:(0,d.jsx)(o.rU,{to:"/movies/".concat(n.id," "),state:{from:r},children:(0,d.jsx)(f,{children:n.title})})},n.id)}))})}},4452:function(n,e,r){r.r(e),r.d(e,{default:function(){return _}});var t,a,c,o=r(5861),u=r(9439),i=r(7757),s=r.n(i),p=r(2007),l=r.n(p),f=r(5705),d=r(168),h=r(6444),x=(0,h.ZP)(f.gN)(t||(t=(0,d.Z)(["\n    position: relative;\n    outline: none;\n    border: 1px solid #bbb4b4;\n    width: 270px;\n    padding: 1.5px;\n    box-shadow: rgba(0, 0, 0, 0.06) 1px 2px 15px 1px;\n    line-height: 25px;\n    \n    placeholder {\n        font: inherit;\n        font-size: 18px;    \n    }\n"]))),m=(0,h.ZP)(f.Bc)(a||(a=(0,d.Z)(["\n    position: absolute;\n    display: block;\n    margin-right: 15px;\n    width: 170px;\n    text-align: end;\n    color: tomato;\n"]))),v=h.ZP.button(c||(c=(0,d.Z)(["\n    padding: 5px 10px;\n    margin-left: -1px;\n"]))),b=r(7670),g=r(184),w=b.Ry().shape({search:b.Z_().min(3,"Too Short!").max(20,"Too Long!")}),k=function(n){var e=n.onSubmit;return(0,g.jsx)(f.J9,{initialValues:{search:""},validationSchema:w,onSubmit:function(n,r){if(!n.search.toLowerCase().trim())return alert("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435");e(n.search.toLowerCase().trim()),r.resetForm()},children:(0,g.jsxs)(f.l0,{children:[(0,g.jsx)(x,{name:"search",type:"text",placeholder:"Search movie"}),(0,g.jsx)(m,{name:"search",component:"span"}),(0,g.jsx)(v,{type:"submit",children:(0,g.jsx)("span",{children:"Search"})})]})})};l().Search={onSubmit:l().func.isRequired};var Z=r(1087),y=r(2791),j=r(2690),S=r(8147),_=function(){var n,e=(0,y.useState)([]),r=(0,u.Z)(e,2),t=r[0],a=r[1],c=(0,Z.lr)(),i=(0,u.Z)(c,2),p=i[0],l=i[1],f=null!==(n=p.get("query"))&&void 0!==n?n:"";(0,y.useEffect)((function(){function n(){return n=(0,o.Z)(s().mark((function n(e){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,j.h6)(e);case 3:r=n.sent,a(r.results),console.log(r.results),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))),n.apply(this,arguments)}f&&function(e){n.apply(this,arguments)}(f)}),[f]);return(0,g.jsxs)("div",{children:[(0,g.jsx)(k,{onSubmit:function(n){l(""!==n?{query:n}:{})}}),t.length>0&&(0,g.jsx)(S.O,{movies:t})]})}},2690:function(n,e,r){r.d(e,{fU:function(){return l},h6:function(){return i},l2:function(){return p},sv:function(){return f},wr:function(){return s}});var t=r(5861),a=r(7757),c=r.n(a),o=r(1243);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u="70dafc4dedeb92246e41153ac2fb24f3",i=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t,a=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:1,n.next=3,o.Z.get("search/movie?api_key=".concat(u,"&language=en-US&query=").concat(e,"&page=").concat(r,"&include_adult=false"));case 3:if((t=n.sent).data.total_results){n.next=6;break}return n.abrupt("return",Promise.reject(new Error('\u041f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(e,'" \u0444\u0456\u043b\u044c\u043c\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e'))));case 6:return n.abrupt("return",t.data);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("trending/movie/week?api_key=".concat(u));case 2:if((e=n.sent).data.total_results){n.next=5;break}return n.abrupt("return",Promise.reject(new Error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u043e\u0448\u0443\u043a\u0443")));case 5:return n.abrupt("return",e.data);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(e,"?api_key=").concat(u,"&language=en-US"));case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",Promise.reject(new Error('\u041f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(e,'" \u0444\u0456\u043b\u044c\u043ca \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e'))));case 5:return console.log(r),n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(e,"/credits?api_key=").concat(u,"&language=en-US"));case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",Promise.reject(new Error('\u041f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(e,'" \u0444\u0456\u043b\u044c\u043ca \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e'))));case 5:return n.abrupt("return",r.data);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1"));case 2:if((r=n.sent).data.total_pages){n.next=5;break}return n.abrupt("return",Promise.reject(new Error('\u041f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(e,'" \u0444\u0456\u043b\u044c\u043ca \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e'))));case 5:return n.abrupt("return",r.data);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=452.f7579f8f.chunk.js.map